// Inicializa o mapa em um elemento div com o ID "map"
var map = L.map('map');

// Adiciona um camada do mapa de fundo
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
  maxZoom: 18,
}).addTo(map);

// Define a visualização inicial do mapa baseado nos marcadores
var bounds = L.latLngBounds([-3.7319, -38.5267], [-4.1208, -38.4709]);
map.fitBounds(bounds);

// marker1
var marker1 = L.marker([-3.795764, -38.534455]).addTo(map);

var popupContent1 = '<div class="popup-content">' +
  '<img src="\FORTALEZA.png">' +
  '<p class="popup-text"><strong>SUB-BACIAS CE-07_08_09_ETE COCÓ</strong><br><br>CONTRATO: 048/2022<br>AVANÇO FÍSICO: 3,93%<br>AVANÇO FINANCEIRO: 9,14%<br><br>CLIQUE PARA MAIS INFORMAÇÕES...</p>' +
  '</div>';
  

marker1.bindPopup(popupContent1);

// Adicione a classe "marker-neon" ao elemento do marcador quando o mouse passar por cima
marker1.on('mouseover', function(e) {
  this.getElement().classList.add('marker-neon');
  this.openPopup();
});

// Remova a classe "marker-neon" do elemento do marcador quando o mouse sair de cima do marcador
marker1.on('mouseout', function(e) {
  this.getElement().classList.remove('marker-neon');
  this.closePopup();
});
marker1.on('click', function(e) {
  window.open('https://concrematcorp.sharepoint.com/sites/CAGECE/SitePages/CTR048-2022.aspx', '_blank');
});




// marker2
var marker2 = L.marker([-4.088785, -38.500393]).addTo(map);
marker2.bindPopup('<div class="popup-content"><img src="\HORIZONTE.png"><p class="popup-text"><strong>SAAI HORIZONTE, PACAJUS E CHOROZINHO </strong> <br><br> CONTRATO: 039/2022 <br> AVANÇO FÍSICO: 7,64% <br> AVANÇO FINANCEIRO: 18,56% <br><BR>CLIQUE PARA SABER MAIS...</p></div>');

marker2.on('mouseover', function(e) {
  this.getElement().classList.add('marker-neon');
    this.openPopup();
});
marker2.on('mouseout', function(e) {
  this.getElement().classList.remove('marker-neon');
    this.closePopup();
});

marker2.on('click', function(e) {
  window.open('https://concrematcorp.sharepoint.com/sites/CAGECE/SitePages/CTR039-2022.aspx', '_blank');
});

// botão de foco 1
var focusButton = L.control({position: 'topright'});
focusButton.onAdd = function(map) {
  var button = L.DomUtil.create('button', 'focus-button');
  button.innerHTML = 'SUB-BACIAS CE-07_08_09_ETE COCÓ';
  L.DomEvent.on(button, 'click', function() {
    map.flyTo([-3.795764, -38.534455], 17);
  });
  return button;
}
focusButton.addTo(map);

// botão de foco 2
var focusButton = L.control({position: 'topright'});
focusButton.onAdd = function(map) {
  var button = L.DomUtil.create('button', 'focus-button');
  button.innerHTML = 'SAAI HORIZONTE, PACAJUS E CHOROZINHO';
  L.DomEvent.on(button, 'click', function() {
    map.flyTo([-4.088785, -38.500393], 17);
  });
  return button;
}
focusButton.addTo(map);

// botão de foco 3
var focusButton = L.control({position: 'topright'});
focusButton.onAdd = function(map) {
  var button = L.DomUtil.create('button', 'focus-button');
  button.innerHTML = 'VISÃO GERAL';
  L.DomEvent.on(button, 'click', function() {
    var bounds = L.latLngBounds([[-3.795764, -38.534455], [-4.088785, -38.500393]]);
    map.fitBounds(bounds);
  });
  return button;
}
focusButton.addTo(map);

//polígono
var fortalezaCoords = [
  [-3.79259, -38.51928],
  [-3.79183, -38.52148],
  [-3.79065, -38.52344],
  [-3.79085, -38.52558],
  [-3.79249, -38.52662],
  [-3.79360, -38.52830],
  [-3.79336, -38.52913],
  [-3.79425, -38.52937],
  [-3.79449, -38.52975],
  [-3.79463, -38.53032],
  [-3.79431, -38.53070],
  [-3.79281, -38.53026],
  [-3.79203, -38.53144],
  [-3.79229, -38.53160],
  [-3.79310, -38.53232],
  [-3.79345, -38.53454],
  [-3.79284, -38.53518],
  [-3.79243, -38.53556],
  [-3.79215, -38.53594],
  [-3.79210, -38.53671],
  [-3.79155, -38.53707],
  [-3.79094, -38.53866],
  [-3.79113, -38.53896],
  [-3.79074, -38.53929],
  [-3.79099, -38.53972],
  [-3.79074, -38.54048],
  [-3.79099, -38.54055],
  [-3.79117, -38.54107],
  [-3.79056, -38.54125],
  [-3.79025, -38.54207],
  [-3.79044, -38.54208],
  [-3.79059, -38.54251],
  [-3.79023, -38.54276],
  [-3.78983, -38.54263],
  [-3.78962, -38.54290],
  [-3.78934, -38.54318],
  [-3.78886, -38.54311],
  [-3.78842, -38.54444],
  [-3.78745, -38.54487],
  [-3.78731, -38.54526],
  [-3.78783, -38.54613],
  [-3.78772, -38.54649],
  [-3.78801, -38.54691],
  [-3.78793, -38.54726],
  [-3.78756, -38.54790],
  [-3.78520, -38.55241],
  [-3.78657, -38.55319],
  [-3.78665, -38.55352],
  [-3.78697, -38.55346],
  [-3.78727, -38.55362],
  [-3.78737, -38.55401],
  [-3.78712, -38.55440],
  [-3.78858, -38.55521],
  [-3.78878, -38.55969],
  [-3.79116, -38.56067],
  [-3.79235, -38.56104],
  [-3.79286, -38.56002],
  [-3.79397, -38.56055],
  [-3.79369, -38.56146],
  [-3.79666, -38.56238],
  [-3.79719, -38.56326],
  [-3.79670, -38.56488],
  [-3.79635, -38.56503],
  [-3.79648, -38.56555],
  [-3.79680, -38.56566],
  [-3.79730, -38.56693],
  [-3.79677, -38.56859],
  [-3.79715, -38.56842],
  [-3.79785, -38.56862],
  [-3.79803, -38.56943],
  [-3.79711, -38.56989],
  [-3.79709, -38.56990],
  [-3.79740, -38.57000],
  [-3.79754, -38.57041],
  [-3.79848, -38.57071],
  [-3.80340, -38.57222],
  [-3.80515, -38.57278],
  [-3.80644, -38.57320],
  [-3.80669, -38.57326],
  [-3.80725, -38.57346],
  [-3.80854, -38.57387],
  [-3.81070, -38.57458],
  [-3.81285, -38.57526],
  [-3.81354, -38.57326],
  [-3.81488, -38.56942],
  [-3.81553, -38.56897],
  [-3.81571, -38.56883],
  [-3.81630, -38.56832],
  [-3.81667, -38.56790],
  [-3.81673, -38.56767],
  [-3.81691, -38.56731],
  [-3.81900, -38.56807],
  [-3.82033, -38.56603],
  [-3.82073, -38.56479],
  [-3.82099, -38.56418],
  [-3.82056, -38.56368],
  [-3.82091, -38.56321],
  [-3.82106, -38.56129],
  [-3.82278, -38.56046],
  [-3.82250, -38.56018],
  [-3.82291, -38.55880],
  [-3.82325, -38.55770],
  [-3.82398, -38.55529],
  [-3.82383, -38.55526],
  [-3.82363, -38.55515],
  [-3.82345, -38.55502],
  [-3.82325, -38.55480],
  [-3.82289, -38.55413],
  [-3.82277, -38.55396],
  [-3.82267, -38.55374],
  [-3.82256, -38.55346],
  [-3.82231, -38.55322],
  [-3.82214, -38.55308],
  [-3.82173, -38.55285],
  [-3.82089, -38.55228],
  [-3.82058, -38.55199],
  [-3.82028, -38.55171],
  [-3.82000, -38.55127],
  [-3.81979, -38.55086],
  [-3.81963, -38.55049],
  [-3.81958, -38.55029],
  [-3.81959, -38.55005],
  [-3.81969, -38.54980],
  [-3.81981, -38.54944],
  [-3.81982, -38.54905],
  [-3.81981, -38.54876],
  [-3.81980, -38.54837],
  [-3.81984, -38.54805],
  [-3.81993, -38.54747],
  [-3.81993, -38.54703],
  [-3.81990, -38.54667],
  [-3.81984, -38.54621],
  [-3.81970, -38.54556],
  [-3.81960, -38.54520],
  [-3.81950, -38.54493],
  [-3.81944, -38.54474],
  [-3.81932, -38.54388],
  [-3.82149, -38.54135],
  [-3.82002, -38.53993],
  [-3.82166, -38.53631],
  [-3.82121, -38.53657],
  [-3.82077, -38.53647],
  [-3.81978, -38.53597],
  [-3.81860, -38.53531],
  [-3.81752, -38.53421],
  [-3.81712, -38.53336],
  [-3.81627, -38.53261],
  [-3.81616, -38.53187],
  [-3.81351, -38.53000],
  [-3.81224, -38.52881],
  [-3.81142, -38.52817],
  [-3.80885, -38.52631],
  [-3.80926, -38.52528],
  [-3.80789, -38.52425],
  [-3.80778, -38.52427],
  [-3.80710, -38.52443],
  [-3.80670, -38.52433],
  [-3.80634, -38.52406],
  [-3.80383, -38.52201],
  [-3.80358, -38.52231],
  [-3.80072, -38.52014],
  [-3.79967, -38.52015],
  [-3.79905, -38.52019],
  [-3.79877, -38.52020],
  [-3.79496, -38.51943],
  [-3.79449, -38.51966]
];

var horizonteCoords = [

  [-4.06826, -38.45392],
[-4.06520, -38.46041],
[-4.06505, -38.46558],
[-4.06141, -38.47216],
[-4.06114, -38.47377],
[-4.06044, -38.47995],
[-4.05433, -38.47835],
[-4.05402, -38.48154],
[-4.06021, -38.48313],
[-4.05947, -38.49198],
[-4.06104, -38.50099],
[-4.05991, -38.50418],
[-4.06150, -38.50854],
[-4.06079, -38.51490],
[-4.06074, -38.51646],
[-4.06231, -38.51750],
[-4.06279, -38.51491],
[-4.06468, -38.51566],
[-4.06497, -38.51579],
[-4.06571, -38.51426],
[-4.06725, -38.51484],
[-4.06814, -38.51500],
[-4.07457, -38.51386],
[-4.07680, -38.51414],
[-4.07682, -38.51394],
[-4.07693, -38.51395],
[-4.07910, -38.51441],
[-4.08845, -38.51572],
[-4.08888, -38.51576],
[-4.08963, -38.51601],
[-4.08956, -38.51627],
[-4.09429, -38.51780],
[-4.09499, -38.51784],
[-4.09511, -38.51879],
[-4.09620, -38.51863],
[-4.09634, -38.51959],
[-4.09947, -38.51876],
[-4.09888, -38.51460],
[-4.10210, -38.51508],
[-4.10042, -38.50344],
[-4.10481, -38.50290],
[-4.10587, -38.51030],
[-4.10704, -38.51004],
[-4.10725, -38.51113],
[-4.10860, -38.51072],
[-4.11023, -38.51667],
[-4.11145, -38.51618],
[-4.10832, -38.50056],
[-4.10929, -38.50038],
[-4.11808, -38.50517],
[-4.12452, -38.50639],
[-4.12352, -38.50729],
[-4.12369, -38.50747],
[-4.12403, -38.50713],
[-4.12409, -38.50859],
[-4.12498, -38.50844],
[-4.12510, -38.50919],
[-4.12539, -38.50916],
[-4.12508, -38.50737],
[-4.13175, -38.50982],
[-4.12986, -38.51350],
[-4.13144, -38.51445],
[-4.13408, -38.51590],
[-4.13524, -38.51245],
[-4.13618, -38.51276],
[-4.13660, -38.51167],
[-4.13666, -38.51153],
[-4.13585, -38.51121],
[-4.13854, -38.50835],
[-4.13946, -38.50437],
[-4.13331, -38.50051],
[-4.13376, -38.49846],
[-4.13457, -38.49778],
[-4.13887, -38.49998],
[-4.13894, -38.49983],
[-4.13761, -38.49915],
[-4.13832, -38.49836],
[-4.14027, -38.49989],
[-4.14033, -38.49982],
[-4.13971, -38.49928],
[-4.14057, -38.49782],
[-4.14049, -38.49776],
[-4.14028, -38.49815],
[-4.14003, -38.49801],
[-4.13989, -38.49817],
[-4.13979, -38.49809],
[-4.13823, -38.49687],
[-4.13619, -38.49626],
[-4.13958, -38.49312],
[-4.14032, -38.48628],
[-4.14024, -38.48417],
[-4.13930, -38.47986],
[-4.13840, -38.48019],
[-4.13854, -38.47758],
[-4.13871, -38.47312],
[-4.13780, -38.47179],
[-4.13793, -38.46996],
[-4.13171, -38.46793],
[-4.13201, -38.46451],
[-4.12169, -38.46169],
[-4.11949, -38.46049],
[-4.11157, -38.45707],
[-4.10911, -38.45696],
[-4.10777, -38.45624],
[-4.10433, -38.45561],
[-4.10438, -38.45431],
[-4.10332, -38.45396],
[-4.10347, -38.45356],
[-4.10402, -38.45321],
[-4.10485, -38.45128],
[-4.10607, -38.44969],
[-4.10588, -38.44955],
[-4.10467, -38.45117],
[-4.10386, -38.45310],
[-4.10337, -38.45335],
[-4.10081, -38.45299],
[-4.10038, -38.45316],
[-4.09933, -38.45422],
[-4.09913, -38.45479],
[-4.09857, -38.45475],
[-4.09665, -38.45383],
[-4.09654, -38.45401],
[-4.09847, -38.45505],
[-4.10072, -38.45537],
[-4.10189, -38.45552],
[-4.10249, -38.45558],
[-4.10215, -38.45688],
[-4.10203, -38.45782],
[-4.10195, -38.45794],
[-4.10211, -38.46178],
[-4.10088, -38.46187],
[-4.09805, -38.46125],
[-4.09748, -38.45935],
[-4.09728, -38.45918],
[-4.09695, -38.45936],
[-4.09674, -38.45940],
[-4.09655, -38.45951],
[-4.09639, -38.45966],
[-4.09571, -38.46068],
[-4.09566, -38.46092],
[-4.09591, -38.46206],
[-4.09593, -38.46235],
[-4.09542, -38.46247],
[-4.09458, -38.46350],
[-4.09132, -38.46189],
[-4.08899, -38.46185],
[-4.08871, -38.46049],
[-4.08664, -38.46139],
[-4.08503, -38.46188],
[-4.08290, -38.46089],
[-4.07463, -38.45673],
[-4.07456, -38.45967],
[-4.07415, -38.45951],
[-4.06624, -38.45947],
[-4.06875, -38.45413]
];

// Adiciona o polígono ao mapa
var fortalezaPolygon = L.polygon(fortalezaCoords, {color: 'blue'}).addTo(map);
fortalezaPolygon.on('mouseover', function (e) {
fortalezaPolygon.getElement().classList.add('white-border');
});
fortalezaPolygon.on('mouseout', function (e) {
fortalezaPolygon.getElement().classList.remove('white-border');
});


var horizontePolygon = L.polygon(horizonteCoords, { color: 'green' }).addTo(map);
horizontePolygon.on('mouseover', function (e) {
  horizontePolygon.getElement().classList.add('white-border');
});
horizontePolygon.on('mouseout', function (e) {
  horizontePolygon.getElement().classList.remove('white-border');
});

// Obtém o ponto central do retângulo que circunscreve o polígono
var fortalezaBounds = fortalezaPolygon.getBounds();
var fortalezaCenter = fortalezaBounds.getCenter();

var horizonteBounds = horizontePolygon.getBounds();
var horizonteCenter = horizonteBounds.getCenter();

// Adiciona o nome da cidade no centro do polígono
L.marker(fortalezaCenter, {
icon: L.divIcon({
  className: 'city-label',
  html: 'Fortaleza',
  iconSize: [100, 40],
})
}).addTo(map);

L.marker(horizonteCenter, {
  icon: L.divIcon({
    className: 'city-label',
    html: 'Horizonte',
    iconSize: [100, 40],
  })
  }).addTo(map);
  
